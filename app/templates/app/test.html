{% extends 'base.html' %}
{% block content %}
{% load static %}
 <head>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
 		 <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
		<link rel = "stylesheet"
   		type="text/css"
   		href="{% static 'app/test.css' %}" />
 </head>
 <div id="travelForm">
 	<form action="">
 		<input type="text" name="from_" placeholder="From">
 		<input type="text" name="to" placeholder="To">
 		<input type="submit" value="Submit">
 	</form>
 </div>
 <div id="loader">
 	<div class="spinner"></div>
 </div>
 <div  id="travelInfo">
 	<p id="travel">Travel info</p>
 </div>
 <!-- holy fuck this script does everything -->
 <script type="text/javascript">
 	$("form").submit(function(event){
 		event.preventDefault();
 		var formData = $("form").serializeArray();
 		$("#loader").css("display", "inline");
 		$("#travelForm").css("display", "none");
 		$.post("/test", formData, function(data){
 			var json_data = JSON.parse(data);
 			var elements = Object.keys(json_data).length;
 			for (i = 0 ; i < elements ; i++){
 				$("#travel").after("<p> good stuff </p>");
 			}
 			$("#travelInfo").css("display", "inline");
 			$("#loader").css("display", "none");
 		})
 	});
 </script>
{% endblock %}